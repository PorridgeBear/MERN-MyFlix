const express = require('express');
const bodyParser = require("body-parser")

const app = express();
const port = 3080;

// TODO: move to a database
const movies = {
    "movies": [
      {"title": "Chaser", "tags": ["Short", "Drama", "Romance"], "released": "2013", "director": "Sal Bardo", "synopsis": "Alienated from his conservative Jewish family and community, a gay schoolteacher seeks solace in New York's barebacking scene.", "poster": "https://xl.movieposterdb.com/14_03/2013/2387421/xl_2387421_c25a4e4a.jpg", "id": "9b07aab07b5fa3f77e5d1f86c9a43b97"},
      {"title": "Summer Fantasy", "tags": [], "released": "1984", "director": "Noel Nosseck", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/1984/88201/xl_88201_f4ac28ac.jpg", "id": "3f79e4112a1f1c7e5c7d1bcc926afb1d"},
      {"title": "Corruption", "tags": ["Adult", "Crime"], "released": "1983", "director": "Roger Watkins", "synopsis": "This is a story about a businessman that \"sells his soul\" for power. However, he is betrayed by courier/associate and finds himself answering to his former employee. The businessman must ...", "poster": "https://xl.movieposterdb.com/22_03/1983/85367/xl_85367_756735c3.jpg", "id": "658a15d633ea9338b06e40a410629dd8"},
      {"title": "En k\u00e4rlekshistoria", "tags": ["Drama", "Romance"], "released": "1970", "director": "Roy Andersson", "synopsis": "Two teenagers fall in love over the summer, in spite of cynical and disapproving adults who dismiss their relationship as being nothing but young love.", "poster": "https://xl.movieposterdb.com/14_12/1970/65955/xl_65955_36e45b36.jpg", "id": "60cf6614813501d155ee4a534627feb8"},
      {"title": "Mascara", "tags": ["Adult", "Drama"], "released": "1982", "director": "Roberta Findlay", "synopsis": "", "poster": "https://xl.movieposterdb.com/21_05/1982/196741/xl_196741_34702f84.jpg", "id": "b0cbc95bee2afba032eead2b35d950d7"},
      {"title": "Justine: 'A Matter of Innocence'", "tags": ["Adult", "Drama"], "released": "1980", "director": "Roberta Findlay", "synopsis": "Justine, just having graduated from a French finishing school, decides to go live with her rich uncle. She is charming and sweet, but her uncle is scandalous and wanton.", "poster": "https://xl.movieposterdb.com/10_11/1980/125296/xl_125296_4efab566.jpg", "id": "8456fb287224cde98774bbb4caa16f43"},
      {"title": "The Kentucky Fried Movie", "tags": ["Comedy"], "released": "1977", "director": "John Landis", "synopsis": "A series of short, highly irreverent, and often tasteless skits.", "poster": "https://xl.movieposterdb.com/06_12/1977/0076257/xl_150092_0076257_75c2a028.jpg", "id": "50a330699f94b825c9b9fea3d9083f68"},
      {"title": "Disco Lady", "tags": ["Adult", "Comedy"], "released": "1978", "director": "Bob Chinn", "synopsis": "", "poster": "https://xl.movieposterdb.com/21_08/1978/195647/xl_195647_24b1275a.jpg", "id": "4096d3723bd19f18e2eda873a3f006f7"},
      {"title": "Bell Book and Candle", "tags": ["Comedy", "Romance", "Fantasy"], "released": "1958", "director": "Richard Quine", "synopsis": "A modern-day witch likes her neighbor but despises his fianc\u00e9e, so she enchants him to love her instead, only to fall in love with him for real.", "poster": "https://xl.movieposterdb.com/09_04/1958/51406/xl_51406_b76c94c3.jpg", "id": "ff000af4f314ad721290777e03bbc532"},
      {"title": "7 Men from Now", "tags": ["Action", "Western"], "released": "1956", "director": "Budd Boetticher", "synopsis": "A former sheriff blames himself for his wife's death during a Wells Fargo robbery and vows to track down and kill the seven men responsible.", "poster": "https://xl.movieposterdb.com/12_03/1956/49743/xl_49743_16b33f81.jpg", "id": "24968a144d8c97cd0960d7e219f8f2b0"},
      {"title": "Compulsion", "tags": ["Biography", "Crime", "Drama", "History", "Thriller"], "released": "1959", "director": "Richard Fleischer", "synopsis": "Two wealthy law-school students go on trial for murder in this version of the Leopold-Loeb case.", "poster": "https://xl.movieposterdb.com/10_07/1959/52700/xl_52700_6bf288c5.jpg", "id": "56230a9aa79ae9a45d19dc8cbae21542"},
      {"title": "The Far Country", "tags": ["Romance", "Western"], "released": "1954", "director": "Anthony Mann", "synopsis": "A self-minded adventurer (Jeff Webster) locks horns with a crooked lawman (Mr. Gannon) while driving cattle to Dawson.", "poster": "https://xl.movieposterdb.com/07_12/1954/48055/xl_48055_255e79f2.jpg", "id": "f6712598636bb74b04b7092993f12241"},
      {"title": "Summer Stock", "tags": ["Musical", "Romance"], "released": "1950", "director": "Charles Walters", "synopsis": "A small-town farmer, down on her luck, finds her homestead invaded by a theatrical troupe invited to stay by her ne'er-do-well sister.", "poster": "https://xl.movieposterdb.com/08_01/1950/43012/xl_43012_87534a7b.jpg", "id": "2c77c19b4254dd1e76abd25723371e1b"},
      {"title": "A Thousand and One Erotic Nights", "tags": ["Adult"], "released": "1982", "director": "Edwin Brown", "synopsis": "A sheik's concubine, who has displeased him and has been ordered by him to be executed, strikes a deal with him: her execution will be postponed as long as she will relate one erotic tale to him each night.", "poster": "https://xl.movieposterdb.com/21_04/1982/84791/xl_84791_476e309e.jpg", "id": "0c6bf824a8e84320bf4be114ae6aecaf"},
      {"title": "A Thousand and One Erotic Nights Part II: The Forbidden Tales", "tags": ["Adult"], "released": "1988", "director": "Edwin Brown", "synopsis": "A sultan searches for the most erotic women in his kingdom, served up to him by his aide.", "poster": "https://xl.movieposterdb.com/22_02/1988/189329/xl_189329_617d4ec6.jpg", "id": "401192bfc1d8c48b6400a59ec8e2890a"},
      {"title": "The Dark Avenger", "tags": ["Adventure", "Drama", "History", "Romance", "War"], "released": "1955", "director": "Henry Levin", "synopsis": "During the fourteenth century when the Hundred-Year War between France and England ends with the English occupation of French Aquitainia, rebel French Knights vow to oust Prince Edward of Walles, ruler of Aquitainia.", "poster": "https://xl.movieposterdb.com/11_01/1955/47975/xl_47975_c0b1878e.jpg", "id": "45a186215975d92f978cde8dbdc8b659"},
      {"title": "We Intend to Cause Havoc", "tags": [], "released": "2021", "director": "Gio Arlotta", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2021/5666750/xl_5666750_12588f36.jpg", "id": "4f7cefcf5624876de5c88121df5ef503"},
      {"title": "The Lost Treasure", "tags": [], "released": "2022", "director": "Stella Tinucci", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2022/8986874/xl_8986874_0bcc4524.jpg", "id": "a5e08a34ae705448df71294b0c7aeb27"},
      {"title": "Big Top Evil", "tags": [], "released": "2019", "director": "Sean Haitz", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2019/2596246/xl_2596246_d696be0f.jpg", "id": "7c3b111dd4b3e8c3eb695cbd3ee3ae93"},
      {"title": "La villa Santo Sospir", "tags": [], "released": "1952", "director": "Jean Cocteau", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/1952/206394/xl_206394_9b6deb61.jpg", "id": "d8acfa49796baed272d604a6a4705248"},
      {"title": "The Survivalist", "tags": [], "released": "2021", "director": "Jon Keeyes", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2021/13694706/xl_13694706_058680b5.jpg", "id": "bcaa0e4c0895fff31b158a8065636e88"},
      {"title": "Good Grief It's Friday", "tags": [], "released": "2021", "director": "Michael Shaun Patterson", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2021/10916458/xl_10916458_730649c1.jpg", "id": "6103e241220304a830eda20162f89a94"},
      {"title": "Honjin satsujin jiken", "tags": [], "released": "1975", "director": "Y\u00f4ichi Takabayashi", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/1975/170011/xl_170011_a87db2e9.jpg", "id": "ad22a754eddcc2826da9189854a8171f"},
      {"title": "Lie of You", "tags": [], "released": "2019", "director": "Richard Redwine", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2019/7531600/xl_7531600_cddf9d1c.jpg", "id": "d0aacc90603cd628592a31994d53dc63"},
      {"title": "2025: The World Enslaved by a Virus", "tags": [], "released": "2021", "director": "Joshua Wesely", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2021/13788842/xl_13788842_96f73dff.jpg", "id": "e2cc984c0416ab88fdfda765745d9faf"},
      {"title": "Perfect Plan", "tags": [], "released": "2011", "director": "Tristan Dubois", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2011/1664010/xl_1664010_4ccf0461.jpg", "id": "54d4084c9df007efb19967e5179946fd"},
      {"title": "Hei jie wu nan", "tags": [], "released": "1992", "director": "Jing Yeung", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/1992/121355/xl_121355_e5ea6a60.jpg", "id": "904d98229bc102c23a76501f55997d08"},
      {"title": "Good Life", "tags": [], "released": "2022", "director": "Bonnie Rodini", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2022/14888336/xl_14888336_c19abc15.jpg", "id": "055a7437c80fb13c399e032839b4426e"},
      {"title": "Samuel Barber: Absolute Beauty", "tags": [], "released": "2017", "director": "H. Paul Moon", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2017/5044068/xl_5044068_62040b32.jpg", "id": "b873cf649fbf56a66ddec9ff055812cb"},
      {"title": "Liberty: Mother of Exiles", "tags": [], "released": "2019", "director": "Fenton Bailey", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2019/10327518/xl_10327518_ba6b90b7.jpg", "id": "4a2f28a660bfca8f69162d58b67c52fe"},
      {"title": "Jacinta", "tags": [], "released": "2021", "director": "Jessica Earnshaw", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2021/11514252/xl_11514252_c6d5db04.jpg", "id": "e85225d04ba83f8f22dad3d94331b117"},
      {"title": "Christmas on Ice", "tags": [], "released": "2020", "director": "John Stimpson", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2020/11738870/xl_11738870_ea22f2cf.jpg", "id": "9fb86fd046b949aacf0e643e7af9780f"},
      {"title": "Hostage", "tags": [], "released": "2021", "director": "Eddie Augustin", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2021/6619180/xl_6619180_882945c9.jpg", "id": "59a2422b50d04fc005c340b9bb49b04f"},
      {"title": "Nemuri Ky\u00f4shir\u00f4: Akujo-gari", "tags": [], "released": "1969", "director": "Kazuo Ikehiro", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/1969/148931/xl_148931_191e8127.jpg", "id": "02ad6e821cc71b411c111a083de89308"},
      {"title": "Redeemed", "tags": [], "released": "2021", "director": "Ty Manns", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2021/8170712/xl_8170712_a8bbd75b.jpg", "id": "d182bd3ccc300a64be9b3b816786c0b7"},
      {"title": "Number 1", "tags": [], "released": "2020", "director": "Kuo-Sin Ong", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2020/13217556/xl_13217556_7dcf4f66.jpg", "id": "9b1146da7e8885b360bcba1784bf6d6c"},
      {"title": "The Reunion", "tags": [], "released": "2022", "director": "Phil Donlon", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2022/10064134/xl_10064134_3f57c4e6.jpg", "id": "b18384986295f4551fdfa1118adbf05e"},
      {"title": "Before the Wrath", "tags": [], "released": "2020", "director": "Brent Miller Jr.", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2020/11996308/xl_11996308_c7f9a627.jpg", "id": "d6e28cf9d6b803610bfa994d8ed2fab5"},
      {"title": "Tweesprong", "tags": [], "released": "2014", "director": "Wouter Bouvijn", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2014/2792420/xl_2792420_bdb4f154.jpg", "id": "90457321431f021e61792d34006171dd"},
      {"title": "Holiday Joy", "tags": [], "released": "2016", "director": "Kirk D'Amico", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_07/2016/5990458/xl_5990458_f8be6382.jpg", "id": "8b3251db4afd61dd7a1501f349e35fdd"},
      {"title": "I Like to Watch", "tags": ["Adult"], "released": "1982", "director": "Paul Vatelli", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_02/1982/167999/xl_167999_c7d6ec72.jpg", "id": "1f3c1e9e0220555becbb60f122e83525"},
      {"title": "Sorority Sweethearts", "tags": ["Adult"], "released": "1983", "director": "Paul Vatelli", "synopsis": "", "poster": "https://xl.movieposterdb.com/14_04/1983/195293/xl_195293_40484282.jpg", "id": "ca5858025a4fc93ab8b5216f0197913d"},
      {"title": "The Naughty Victorians: An Erotic Tale of a Maiden's Revenge", "tags": ["Adult", "Comedy"], "released": "1975", "director": "Robert Sickinger", "synopsis": "Haughty Alice is in for a surprise as she reluctantly takes refuge in the residence of her fiance, Jack. She finds her maidenhead taken from her, and is surprised to discover she likes it! ...", "poster": "https://xl.movieposterdb.com/22_02/1975/125431/xl_125431_a686596b.jpg", "id": "62d871dce368f2bcbee9c1d1cade09ee"},
      {"title": "Indecent Exposure", "tags": ["Adult", "Comedy"], "released": "1981", "director": "Gary Graver", "synopsis": "Lilah becomes a swinger and her world changes overnight. Once she experiences the pleasures of lovemaking - she goes beyond all boundaries and becomes the seductress.", "poster": "https://xl.movieposterdb.com/21_07/1981/189608/xl_189608_c3156e99.jpg", "id": "a475ae27e88a333a72d959132d8f5dc2"},
      {"title": "Dune", "tags": ["Adventure", "Drama", "Sci-Fi"], "released": "2021", "director": "Denis Villeneuve", "synopsis": "Feature adaptation of Frank Herbert's science fiction novel, about the son of a noble family entrusted with the protection of the most valuable asset and most vital element in the galaxy.", "poster": "https://xl.movieposterdb.com/21_08/2021/1160419/xl_1160419_565d3d10.jpg", "id": "9b237584654fe1ef24a81c77510b4492"},
      {"title": "Doctor Strange in the Multiverse of Madness", "tags": [], "released": "2022", "director": "Sam Raimi", "synopsis": "Dr. Stephen Strange casts a forbidden spell that opens the doorway to the multiverse, including alternate versions of himself, whose threat to humanity is too great for the combined forces of Strange, Wong, and Wanda Maximoff.", "poster": "https://xl.movieposterdb.com/22_05/2022/9419884/xl_9419884_498673af.jpg", "id": "66caee7f576d2c7b4edc04371759cc68"},
      {"title": "Memento Mori", "tags": ["Horror"], "released": "2018", "director": null, "synopsis": "Memento Mori is about a girl who's stuck in a dream circle, reliving key moments of a traumatic event. What happened to her? And will she survive this nightmare before time runs out?", "poster": "https://xl.movieposterdb.com/20_01/2018/8128672/xl_8128672_46e54a5b.jpg", "id": "33880c1b6a567516bbbde2bef3f0c814"},
      {"title": "Zack Snyder's Justice League", "tags": ["Action", "Adventure", "Fantasy", "Sci-Fi"], "released": "2021", "director": "Zack Snyder", "synopsis": "Determined to ensure Superman's ultimate sacrifice was not in vain, Bruce Wayne aligns forces with Diana Prince with plans to recruit a team of metahumans to protect the world from an approaching threat of catastrophic proportions.", "poster": "https://xl.movieposterdb.com/21_06/2021/12361974/xl_12361974_997c7da1.jpg", "id": "cdf6a17dcf4ab4aea6b7f83789467c69"},
      {"title": "The Incredibles", "tags": ["Animation", "Action", "Adventure", "Family"], "released": "2004", "director": "Brad Bird", "synopsis": "A family of undercover superheroes, while trying to live the quiet suburban life, are forced into action to save the world.", "poster": "https://xl.movieposterdb.com/15_10/2004/317705/xl_317705_6a12cc64.jpg", "id": "caca12e08a08afd29dc27346ea4c4ca6"},
      {"title": "Back to the Future", "tags": ["Adventure", "Comedy", "Sci-Fi"], "released": "1985", "director": "Robert Zemeckis", "synopsis": "Marty McFly, a 17-year-old high school student, is accidentally sent thirty years into the past in a time-traveling DeLorean invented by his close friend, the maverick scientist Doc Brown.", "poster": "https://xl.movieposterdb.com/04_12/1985/0088763/xl_2565_0088763_a103a0ad.jpg", "id": "5e0ca3272c97b77a8266816032e10665"},
      {"title": "Elvis", "tags": ["Biography", "Drama", "Music"], "released": "2022", "director": "Baz Luhrmann", "synopsis": "A look at the life of the legendary rock and roll star, Elvis Presley.", "poster": "https://xl.movieposterdb.com/22_05/2022/10095624/xl_10095624_7de51d90.jpg", "id": "f4f67bf86b50df1605ff772c9da52c09"},
      {"title": "Lightyear", "tags": ["Animation", "Action", "Adventure", "Drama", "Family", "Sci-Fi"], "released": "2022", "director": "Angus MacLane", "synopsis": "", "poster": "https://xl.movieposterdb.com/22_06/2022/10298810/xl_10298810_0786064f.jpg", "id": "a36d0c6ddcb74e72d5ee59019af96daf"},
      {"title": "Groundhog Day", "tags": ["Comedy", "Fantasy", "Romance"], "released": "1993", "director": "Harold Ramis", "synopsis": "A weatherman finds himself inexplicably living the same day over and over again.", "poster": "https://xl.movieposterdb.com/12_04/1993/107048/xl_107048_384acfa9.jpg", "id": "3f37161d3d1beb3b8198d210d4fac503"},
      {"title": "Jurassic Park", "tags": ["Adventure", "Sci-Fi", "Thriller"], "released": "1993", "director": "Steven Spielberg", "synopsis": "During a preview tour, a theme park suffers a major power breakdown that allows its cloned dinosaur exhibits to run amok.", "poster": "https://xl.movieposterdb.com/05_08/1993/0107290/xl_45298_0107290_be4e0db3.jpg", "id": "cc79356539a59b5afd6c2fc8d3b0c691"},
      {"title": "Thor: Love and Thunder", "tags": [], "released": "2022", "director": "Taika Waititi", "synopsis": "Thor enlists the help of Valkyrie, Korg and ex-girlfriend Jane Foster to fight Gorr the God Butcher, who intends to make the gods extinct.", "poster": "https://xl.movieposterdb.com/22_06/2022/10648342/xl_10648342_7d958fa2.jpg", "id": "e6722693f13dccd3fa8a7ddfaadee5bf"},
      {"title": "Thor", "tags": ["Action", "Adventure", "Fantasy", "Sci-Fi"], "released": "2011", "director": "Kenneth Branagh", "synopsis": "The powerful but arrogant god Thor (Chris Hemsworth) is cast out of Asgard to live amongst humans in Midgard (Earth), where he soon becomes one of their finest defenders.", "poster": "https://xl.movieposterdb.com/11_03/2011/800369/xl_800369_4d7c5af3.jpg", "id": "a92da8d9ebd1059f11a0e2f66c0b8e44"},
      {"title": "Iron Man", "tags": ["Action", "Adventure", "Sci-Fi"], "released": "2008", "director": "Jon Favreau", "synopsis": "After being held captive in an Afghan cave, billionaire engineer Tony Stark creates a unique weaponized suit of armor to fight evil.", "poster": "https://xl.movieposterdb.com/08_03/2008/371746/xl_371746_4243f899.jpg", "id": "6fed1645bebbf49f15671903a8a2e6da"},
      {"title": "The Lord of the Rings: The Return of the King", "tags": ["Adventure", "Drama", "Fantasy"], "released": "2003", "director": "Peter Jackson", "synopsis": "Gandalf and Aragorn lead the World of Men against Sauron's army to draw his gaze from Frodo and Sam as they approach Mount Doom with the One Ring.", "poster": "https://xl.movieposterdb.com/07_12/2003/167260/xl_167260_6ffc2af3.jpg", "id": "7ec20133028f3895dfe19c1c3ddff8db"},
      {"title": "Pulp Fiction", "tags": ["Crime", "Drama"], "released": "1994", "director": "Quentin Tarantino", "synopsis": "The lives of two mob hitmen, a boxer, a gangster & his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.", "poster": "https://xl.movieposterdb.com/07_10/1994/110912/xl_110912_55345443.jpg", "id": "ef62f81fa2b448d7c6052b6ea2ecff04"},
      {"title": "Jurassic World: Dominion", "tags": ["Action", "Adventure", "Sci-Fi", "Thriller"], "released": "2022", "director": "Colin Trevorrow", "synopsis": "Plot kept under wraps.", "poster": "https://xl.movieposterdb.com/22_04/2022/8041270/xl_8041270_3e00a1ba.jpg", "id": "47ae91a9c34d27c2fd78dec9c66dc178"},
    ]  
  };

app.use(bodyParser.json());

/** 
 * Movies List
 */
app.get('/api/movies', (req, res) => {
    console.log('api/movies request');
    res.json(movies);
  });

const server = app.listen(port, () => {
    console.log(`Server listening on port::${port}`);
});

module.exports = server;